#! /usr/bin/env bash

interval=${1}

case ${interval} in
'' | *[!0-9]*)
	echo "Interval must be an integer"
	exit 1
	;;
*) ;;
esac

while true; do
	temp=$(
		printf "%.0f" "$(
			sensors |
				awk '/Tctl:/{print $2}' |
				sed 's/\(.*\)+/\1/' |
				sed 's/\(.*\)Â°C/\1/'
		)"
	)

	echo "temp|int|${temp}"
	echo

	sleep "${interval}"
done
